#ifndef __H_XLOG_H__
#define __H_XLOG_H__
//////////////////////////////////////////////////////////////////////////
#include "afx.h"
#include "xtime.h"
#include <stdarg.h>
//////////////////////////////////////////////////////////////////////////
extern int xlog_printstdout ;
//////////////////////////////////////////////////////////////////////////
void getself ( char * buffer , int size ) ;
void getworkspace ( char * buffer , int size ) ;
//////////////////////////////////////////////////////////////////////////
/* log */
void loginit ( int level , char * logfile ) ;
void logwrite(int level, const char* fmt, ...) ;
//////////////////////////////////////////////////////////////////////////
#define XLOGBUFFERSIZE (1024 * 1024)
#define XVLOG 1
#define XVDBG 2
#define XVERR 4
#define XVALL 7
//////////////////////////////////////////////////////////////////////////
#define xmessage(...) logwrite(XVLOG,__VA_ARGS__)
#define xdebug(...) logwrite(XVDBG,__VA_ARGS__)
#define xerror(...) logwrite(XVERR,__VA_ARGS__)
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
#endif
